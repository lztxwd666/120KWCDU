System.register(["./index-legacy-CLatM1t_.js","./dark-legacy-Dh4oPrs0.js","./index-legacy-DPUgdLr2.js","./index-legacy-P33a_JZp.js"],(function(e,o){"use strict";var t,r,a,n,l,i,s,d,u,c,p,m,g,f,h,v,b,y,w,x,k,_,j,N,$;return{setters:[e=>{t=e.e,r=e.d,a=e.f,n=e.g,l=e.s,i=e.h,s=e.c,d=e.i,u=e.a,c=e.n,p=e.j,m=e.w,g=e.k,f=e.l,h=e.u,v=e.b,b=e.m,y=e.E,w=e.p,x=e.t,k=e.q},e=>{_=e.i},e=>{j=e.E,N=e.a,$=e.b},null],execute:function(){var o=document.createElement("style");o.textContent=".login-form-container{display:flex;justify-content:center;align-items:center;height:100%;min-height:-moz-fit-content;min-height:fit-content}.login-form-container .login-form-content{background-color:var(--panel-card-bg-color);border-radius:8px;width:450px;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;--un-border-opacity: 1;border-color:rgb(228 231 237 / var(--un-border-opacity))}.login-form-container .login-form-content .logo-custom{width:80px;height:100px;overflow:hidden;background-size:cover;background-position:-20px,0;background-repeat:no-repeat}.login-form-container .el-form{margin-top:40px}.login-form-container .el-form .el-form-item:not(:first-child){margin-top:30px}\n/*$vite$:1*/",document.head.appendChild(o);const C={class:"login-form-container"},V={class:"login-form-content"};e("default",r({__name:"login",setup(e){const o=a(),r=n({userName:void 0,password:""}),S=l("password"),q=h();function I(e){var o;e&&(o={username:r.userName,password:r.password},t({url:"/api/login",method:"post",data:o}).then((e=>{const{headers:o,data:t}=e,r=o.authorization.match(/Bearer (.*)/)[1];return localStorage.setItem("token",r),t}))).then((e=>{0!==e.code?k.error(e.message):k({message:e.message,type:"success",duration:1e3,onClose:()=>{q.push({path:"/redfish/dashboard"})}})})).catch((e=>{console.error(e),k.error("Login failed")}))}function z(){S.value="password"===S.value?"text":"password"}const B=i((()=>_.value?"/assets/Slogan_Left_White-B4a2pNCj.png":"/assets/Slogan_Left_Black-DKtHdfv7.png"));return(e,t)=>(v(),s("div",C,[d("div",V,[d("div",{class:"logo-custom",style:c({backgroundImage:`url(${p(B)})`})},null,4),u(p(j),{ref_key:"formRef",ref:o,"label-position":"right","label-width":"auto",model:p(r),style:{width:"100%",height:"100%"},onKeyup:t[3]||(t[3]=f((e=>{var t;return null===(t=p(o))||void 0===t?void 0:t.validate(I)}),["enter"])),onSubmit:t[4]||(t[4]=g((()=>{}),["prevent"]))},{default:m((()=>[u(p(N),{label:e.$t("userName"),prop:"userName",rules:[{required:!0,message:"user name is required"}]},{default:m((()=>[u(p($),{modelValue:p(r).userName,"onUpdate:modelValue":t[0]||(t[0]=e=>p(r).userName=e),type:"text",placeholder:e.$t("pleaseInputUserName")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),u(p(N),{label:e.$t("password"),prop:"password",required:""},{default:m((()=>[u(p($),{modelValue:p(r).password,"onUpdate:modelValue":t[1]||(t[1]=e=>p(r).password=e),type:p(S),placeholder:e.$t("pleaseInputPassword")},{suffix:m((()=>[d("span",{class:b("password"===p(S)?"i-icon-park-outline-preview-close":"i-icon-park-outline-preview-open"),"hover:cursor-pointer":"",onClick:z},null,2)])),_:1},8,["modelValue","type","placeholder"])])),_:1},8,["label"]),u(p(N),{label:" "},{default:m((()=>[u(p(y),{type:"primary",style:{width:"100%"},onClick:t[2]||(t[2]=e=>{var t;return null===(t=p(o))||void 0===t?void 0:t.validate(I)})},{default:m((()=>[w(x(e.$t("login")),1)])),_:1})])),_:1})])),_:1},8,["model"])])]))}}))}}}));
